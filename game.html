
<html>
  <head>
    <script src="https://aframe.io/releases/1.1.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@5.0.0/dist/aframe-event-set-component.min.js"></script>
  <script>AFRAME.registerComponent('navigate-on-click', {
    schema: {
      url: {default: ''}
    },

    init: function () {
      var data = this.data;
      var el = this.el;

      el.addEventListener('click', function () {
        window.location.href = data.url;
      });
    }
  });        
</script>
      
    <script>
		AFRAME.registerComponent('play', {
			init: function () {
				var myEl = document.querySelector('#yellow');
				this.el.addEventListener('click', function () {
					myEl.components.sound.playSound();
				});
			}
		});
		AFRAME.registerComponent('stop', {
			init: function () {
				var myEl = document.querySelector('#yellow');
				this.el.addEventListener('click', function () {
					myEl.components.sound.stopSound();
				});
			}
		});
	</script>
  </head>
<body>
    <a-scene cursor="rayOrigin: mouse" loading-screen="dotsColor: white; backgroundColor: #1d1d1d">

        <!-- Assets -->
        <a-assets>
            <img id="sky" src="assetz/asky.jpg">
            <img id="floor" src="assetz/floor1.jpg">
           <audio id="bs" src="assetz/bs.mp3" preload="auto"></audio>
            <img id="welcome" src="assetz/5e61e29e2dab3061d337d80b3eed9c84.jpg">
            <a-asset-item id="museum" src="assetz/finalm.glb"></a-asset-item>
            <a-asset-item id="monmesh" src="assetz/map.glb"></a-asset-item>
        </a-assets>

        <!-- Models -->
        <a-gltf-model src="#museum" 
                      shadow="cast: true"></a-gltf-model>
        <a-gltf-model nav-mesh src="#monmesh" 
                      position="0 6.771 0.051" 
                      visible="false"></a-gltf-model>

        <!--Sky-->
        <a-sky src="#sky"></a-sky>
        
        <!-- Light-->
        <a-light type="ambient"
                 intensity="0.6"
                 color="#e6cfeb"
                 opacity= "9"
                 position></a-light>
        <a-entity light="type: directional; intensity: 0.5"
                  position="-0.50 0.9 0.9"></a-entity>
        
        <!-- Spot Light-->
        
        <a-entity id="l1"
                  light="type: spot; color:#fd8800; castShadow: true; target: #locker; angle: 10; penumbra:0.3; intensity: 3;"
                  position="-13 15.84 -10.13"></a-entity>
        
        <a-entity id="l2"
                  light="type: spot; color:#fd8800; castShadow: true; target: #mason; angle: 18; penumbra:0.5; intensity: 2.5;"
                  position="-15.9 15.70 -12.07"></a-entity>
        
         <a-entity id="l3"
                  light="type: spot; color:#fd8800; castShadow: true; target: #contr; angle: 11; penumbra:0.5; intensity: 1.4;"
                  position="-16.1 15.03 -14.89"></a-entity>
        
        <a-entity id="l4"
                  light="type: spot; color:#fd8800; castShadow: true; target: #finch; angle: 13; penumbra:0.5; intensity: 1.9;"
                  position="-14.5 16.88 -17.86"></a-entity>
        
         <a-entity id="l5"
                  light="type: spot; color:#fd8800; castShadow: true; target: #broken; angle:7; penumbra:0.5; intensity: 1.3;"
                  position="-14.4 16.88 -20.76"></a-entity>
        
        <a-entity id="l6"
                  light="type: spot; color:#fd8800; castShadow: true; target: #bott; angle:11.8; penumbra:0.5; intensity: 1.3;"
                  position="-12.4 17.30 -19.65"></a-entity>
        
        <a-entity id="l7"
                  light="type: spot; color:#fd8800; castShadow: true; target: #mat; angle:7; penumbra:0.7; intensity: 1.3;"
                  position="-12.4 14.75 -21.87"></a-entity>
        
        <!--<a-entity id="l8"
                  light="type: spot; color:#fd8800; castShadow: true; target: #cah; angle:30; penumbra:0.7; intensity: 2.5;"
                  position="-2.24 13.8 -26.4"></a-entity>-->
        
        <a-entity id="l9"
                  light="type: spot; color:#fd8800; castShadow: true; target: #record; angle:10; penumbra:0.7; intensity: 1.3;"
                  position="12.07 15.08 -25.19"></a-entity>
        
        <a-entity id="l10"
                  light="type: spot; color:#fd8800; castShadow: true; target: #spag; angle:13; penumbra:0.7; intensity: 2;"
                  position="12.07 16.64 -20.25"></a-entity>
        
         <a-entity id="l11"
                  light="type: spot; color:#fd8800; castShadow: true; target: #monster; angle:5; penumbra:0.7; intensity: 1.4;"
                  position="6.56 16.14 -20.25"></a-entity>
        
        <a-entity id="l12"
                  light="type: spot; color:#fd8800; castShadow: true; target: #pink; angle:9; penumbra:0.7; intensity: 1.4;"
                  position="6.56 16.14 -17.74"></a-entity>
        
        <a-entity id="l13"
                  light="type: spot; color:#fd8800; castShadow: true; target: #cycle; angle:4; penumbra:0.7; intensity: 1.4;"
                  position="6.56 19.75 -17.74"></a-entity>
        
         <a-entity id="l14"
                  light="type: spot; color:#fd8800; castShadow: true; target: #police; angle:10.5; penumbra:0.7; intensity: 1.4;"
                  position="6.56 19.75 -17.79"></a-entity>
        
         <a-entity id="l14"
                  light="type: spot; color:#fd8800; castShadow: true; target: #death; angle:5; penumbra:0.7; intensity: 1.4;"
                  position="6.56 19.75 -17.79"></a-entity>
        
          <a-entity id="l15"
                  light="type: spot; color:#fd8800; castShadow: true; target: #star; angle:23; penumbra:0.7; intensity: 1.4;"
                  position="0.54 29.11 -17.79"></a-entity>
        

        
       
        
        <!-- Targetbois-->
        <a-cylinder id="locker"
               color="black"
               position="-14.856 10.04 -5.61"
                    visible="false"
                    radius="0.4"
                    height="2"></a-cylinder>
        
        <a-cylinder id="mason"
               color="black"
               position="-19.5 10.04 -9.04"
                    visible="false"
                    radius="0.4"
                    height="2"></a-cylinder>
        
        <a-cylinder id="contr"
               color="black"
               position="-23 9.8 -13.2"
                    visible="false"
                    radius="0.4"
                    height="2"></a-cylinder>
        
        <a-cylinder id="finch"
               color="black"
               position="-23 9.8 -18.31"
                    visible="false"
                    radius="0.4"
                    height="2"></a-cylinder>
        
         <a-cylinder id="broken"
               color="black"
               position="-23 10 -23.24"
                    visible="false"
                    radius="0.4"
                    height="2"></a-cylinder>
        
         <a-cylinder id="bott"
               color="black"
               position="-22.3 6.8 -30.10"
                    visible="false"
                    radius="0.4"
                    height="2"></a-cylinder>
        
          <a-cylinder id="mat"
               color="black"
               position="-15.6 10.34 -30.10"
                    visible="false"
                    radius="0.4"
                    height="2"></a-cylinder>
        
        <!--<a-cylinder id="cah"
               color="black"
               position="-0.18 2.67 -67.28"
                    visible="false"
                    radius="0.4"
                    height="2"></a-cylinder>-->
        
        <a-cylinder id="record"
               color="black"
               position="14.62 10.23 -31.19"
                    visible="false"
                    radius="0.4"
                    height="2"></a-cylinder>
        
        <a-cylinder id="spag"
               color="black"
               position="18.32 10.42 -26.83"
                    visible="false"
                    radius="0.4"
                    height="2"></a-cylinder>
        
         <a-cylinder id="monster"
               color="black"
               position="21.45 10.42 -22.73"
                    visible="false"
                    radius="0.4"
                    height="2"></a-cylinder>
        
        <a-cylinder id="pink"
               color="black"
               position="21.45 10.42 -18.24"
                    visible="false"
                    radius="0.4"
                    height="2"></a-cylinder>
        
         <a-cylinder id="cycle"
               color="black"
               position="22 10.42 -13.31"
                    visible="false"
                    radius="0.4"
                    height="2"></a-cylinder>
        
        <a-cylinder id="police"
               color="black"
               position="17.99 10.42 -10.07"
                    visible="false"
                    radius="0.4"
                    height="2"></a-cylinder>
        
        <a-cylinder id="death"
               color="black"
               position="14.56 10.89 -6.37"
                    visible="false"
                    radius="0.4"
                    height="2"></a-cylinder>
        
         <a-cylinder id="star"
               color="black"
               position="0 17.8 -18.7"
                    visible="false"
                    radius="0.4"
                    height="2"></a-cylinder>
    
        
        
        
        <!-- Text-->
        <!--<a-entity text="value: hi"></a-entity>
        <a-image src="#welcome" 
                 position="-0.07 10.75 -14.26"
                 width="5"
                 height="2.75"></a-image>-->

        <!-- The User + Cam Position-->
        <a-entity id="camRig"
                  position="-0.05 6 11"
                  movement-controls="constrainToNavMesh: true; controls: keyboard, touch; speed:0.2">
            <a-entity id="camera" camera position="0 3.5 0" look-controls>
            </a-entity>
        </a-entity>
        
        <!--Buttons -->
        <!--Chapter1 Webtoon-->
         <a-sphere id="button1" 
                  color="#b0edff" 
                  radius="0.2" 
                  position="-19.2 8 -9.319" 
                  rotation="-60 -45 0"
                  navigate-on-click="url: https://www.webtoons.com/en/challenge/suspension/list?title_no=633773"
                  event-set__click="material.color: #5dbf5d; "
                  event-set__mouseenter="material.color: #1e90ff"
                  event-set__leave="_event: mouseleave; material.color: #b0edff">
            <a-cylinder color="#584e41" radius="0.26" position="0 -0.1 0" height="0.2"></a-cylinder>
        </a-sphere>
        
        <!--Chapter 2: Discord -->
         <a-sphere id="button2" 
                  color="#b0edff" 
                  radius="0.2" 
                  position="-19.2 8 -26.8" 
                  rotation="-50 -130 0"
                  navigate-on-click="url: https://discord.gg/BFJajmmBkC"
                  event-set__click="material.color: #5dbf5d; "
                  event-set__mouseenter="material.color: #1e90ff"
                  event-set__leave="_event: mouseleave; material.color: #b0edff">
            <a-cylinder color="#584e41" radius="0.26" position="0 -0.1 0" height="0.2"></a-cylinder>
        </a-sphere>
        
         <!--Chapter 3: Audio + PoliceFile -->
         <a-sphere id="button3" 
                  color="#b0edff" 
                  radius="0.2" 
                  position="18.41 8 -26.83" 
                  rotation="-60 137 0"
                  navigate-on-click="url: https://ixd1724.firebird.sheridanc.on.ca/newsReport/file.pdf"
                  event-set__click="material.color: #5dbf5d; "
                  event-set__mouseenter="material.color: #1e90ff"
                  event-set__leave="_event: mouseleave; material.color: #b0edff">
            <a-cylinder color="#584e41" radius="0.26" position="0 -0.1 0" height="0.2"></a-cylinder>
        </a-sphere>
        
       
        <!--Chapter 4: Twine-->
        <a-sphere id="button4" 
                  color="#b0edff" 
                  radius="0.2" 
                  position="18 9.14 -10.28" 
                  rotation="-40 55 0"
                navigate-on-click="url: https://ixd560.firebird.sheridanc.on.ca/interactive%20narrative/Suspension.%20Chapter%204.html"
                  event-set__click="material.color: #5dbf5d; "
                  event-set__mouseenter="material.color: #1e90ff"
                  event-set__leave="_event: mouseleave; material.color: #b0edff">
            <a-cylinder color="#584e41" radius="0.26" position="0 -0.1 0" height="0.2"></a-cylinder>
        </a-sphere>
        
        <!--deathstar-->
        <a-box position="0 12.7 -18.6"
               height="1.1"
               width="5"
               depth="3"
               color="#fa6b23"
               shadowCast="true"
               rotation="0 0 0"
               animation="property: rotation; to: 0 360 0; dur: 8000; easing: linear; loop: true"></a-box>
        
        <a-box position="0 12.7 -18.6"
               height="1"
               width="5"
               depth="3"
               color="#0b7be3"
               shadowCast="true"
               rotation="0 0 0"
               animation="property: rotation; to: 0 -360 0; dur: 8000; easing: linear; loop: true"></a-box>
        
          <a-box position="0 14.5 -18.6"
               height="0.85"
               width="4"
               depth="3"
               color="#0b7be3"
               shadowCast="true"
               rotation="0 0 0"
               animation="property: rotation; to: 0 360 0; dur: 8000; easing: linear; loop: true"></a-box>
        
        <a-box position="0 14.5 -18.6"
               height="0.8"
               width="4"
               depth="3"
               color="#fa6b23"
               shadowCast="true"
               rotation="0 0 0"
               animation="property: rotation; to: 0 -360 0; dur: 8000; easing: linear; loop: true"></a-box>
        
       
        <a-cylinder color="#0088FF" 
                    height="5" 
                    position="0 12.7 -18.6"
                    visible="false"
                    radius="4"
        			sound="src: #bs;
        				   on: click;
        				   volume: 5;
        				   refDistance: 4;
        				   rolloffFactor: 4">
        	<a-entity sound="src: #bs; autoplay: false" position="1.396 1.525 0">
        	</a-entity>
            </a-cylinder> 


        <!--Floor -->
        <a-plane material="color: #FFFFFF; src: #floor; repeat: 13 13;"
                 rotation="-90 0 0" 
                 position="0 6.7 -15" 
                 scale="80 80 1"
                 shadow="receive: true; cast: true">
        </a-plane>
        
        <!--Notes
        Okay, that was hard to narrow down. First of all, you need to establish where y:0 is. In your case it's not zero. So you use the rig to get the camera up to what will be your 'zero'. In this case it was y = 6.8. Then put the camera at y height 1.65. Never fiddle with the camera position, use the camRig to move it around.
         <a-entity
                  id="camRig"
                  position="0.4 6.8 14"
                  movement-controls="constrainToNavMesh: true; controls: keyboard, touch; speed:0.4">
            <a-entity id="camera" camera position="0 1.65 0" look-controls>
            </a-entity>
        </a-entity>-->


    </a-scene>
</body></html>
